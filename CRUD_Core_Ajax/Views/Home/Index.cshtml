@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4">Welcome</h1>
</div>

<table id="booksTable" class="table table-striped table-bordered table-sm text-center">
    <thead class="table-dark">
        <tr>
            <td>Name</td>
            <td>ISBN</td>
            <td>Author</td>
            <td>Actions</td>
        </tr>
    </thead>
    <tbody></tbody>
</table>

@section Scripts{
    <script type="text/javascript">

        $(document).ready(() => {
            GetData();
        });

        function GetData() {
            var html = "";
            $.ajax({
                url: "/Home/GetData/",
                type: "GET",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (result) {
                    if (result.length !== 0) {
                        $.each(result,
                            function (key, item) {
                                html += " <tr id=" + item.id + "><td>" +
                                    item.name +
                                    "</td><td>" +
                                    item.isbn +
                                    "</td><td>" +
                                    item.author +
                                    "</td><td>" +
                                    "<a href='#' onclick='DeleteData(" + item.id + ")'>Delete</a> | " +
                                    "<a href='#' onclick='EditData(this)'>Edit</a>" +
                                    "</td></tr>";
                            });
                        $("#booksTable > tbody").html(html);
                    } else {
                        html += "<tr><td><td><td>No Data Found</td></td></td></tr>";
                        $("#booksTable > tbody").html(html);
                    }

                },
                error: function (errormessage) {
                    alert("Something Went Wrong on Data Load");
                    console.log(errormessage.responseText);
                }
            });
        }

    </script>
}